{% extends "base.html" %}

{% block content %}
<div class="form-container">
  <div class="form-header">
    <div class="form-icon">
      <i class="ri-error-warning-line"></i>
    </div>
    <h1>Report Lost Item</h1>
    <p>Please provide as much detail as possible to help us find your item</p>
  </div>

  <form method="POST" enctype="multipart/form-data" class="enhanced-form">
    <div class="form-group">
      <label class="form-label">
        <i class="ri-file-text-line"></i>
        Description *
      </label>
      <textarea 
        name="description" 
        class="form-input" 
        required 
        rows="4"
        placeholder="Describe your lost item in detail (color, brand, distinctive features, where you lost it, etc.)"
      ></textarea>
      <small class="form-help">Provide as much detail as possible to increase match accuracy</small>
    </div>
    
    <div class="form-group">
      <label class="form-label">
        <i class="ri-folder-line"></i>
        Category *
      </label>
      <div class="select-wrapper">
        <select name="category" class="form-input" required>
          <option value="">Select a category</option>
          <option value="electronics">ðŸ“± Electronics (Phone, Laptop, Tablet, etc.)</option>
          <option value="clothing">ðŸ‘• Clothing (Jacket, Hat, Scarf, etc.)</option>
          <option value="accessories">ðŸ‘œ Accessories (Bag, Wallet, Keys, etc.)</option>
          <option value="documents">ðŸ“„ Documents (ID, Passport, Papers, etc.)</option>
          <option value="other">ðŸ“¦ Other</option>
        </select>
        <i class="ri-arrow-down-s-line select-icon"></i>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">
        <i class="ri-image-line"></i>
        Image (Optional)
      </label>
      <div class="file-upload-wrapper">
        <input 
          type="file" 
          name="image" 
          id="image-upload"
          accept="image/*"
          class="file-input"
        >
        <label for="image-upload" class="file-upload-label">
          <div class="upload-content">
            <i class="ri-upload-cloud-2-line"></i>
            <span class="upload-text">Click to upload or drag and drop</span>
            <span class="upload-hint">PNG, JPG, or JPEG (Max 8MB)</span>
          </div>
        </label>
        <div id="image-preview" class="image-preview"></div>
      </div>
      <small class="form-help">Adding an image helps our AI match your item more accurately</small>
    </div>

    <div class="form-actions">
      <button type="button" onclick="window.history.back()" class="button button-outline">
        <i class="ri-arrow-left-line"></i>
        Cancel
      </button>
      <button type="submit" class="button button-primary">
        <i class="ri-send-plane-line"></i>
        Submit Report
      </button>
    </div>
  </form>

  <div class="form-footer">
    <div class="info-box">
      <i class="ri-information-line"></i>
      <div>
        <strong>What happens next?</strong>
        <p>Once you submit, our AI will analyze your report and search for matches. You'll be notified if we find potential matches.</p>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// Initialize file upload preview using shared function
document.addEventListener('DOMContentLoaded', () => {
  initializeFileUploadPreview('image-upload', 'image-preview', '.file-upload-label');
});
</script>
{% endblock %}
