{% extends "base.html" %}

{% block content %}
<div class="page-header">
  <div class="page-header-content">
    <div class="page-icon">ğŸ‰</div>
    <h1 class="page-title">Report Found Item</h1>
    <p class="page-description">Help reunite someone with their lost belongings</p>
  </div>
</div>

<div class="form-container">
  <form method="POST" enctype="multipart/form-data" class="modern-form">
    <div class="form-grid-vertical">
      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ“</span>
          Description
        </label>
        <textarea name="description" class="form-input form-textarea" required placeholder="Describe the item you found (color, brand, condition...)"></textarea>
        <small class="form-help">Include details like where and when you found it</small>
      </div>
      
      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ·ï¸</span>
          Category
        </label>
        <select name="category" class="form-input form-select">
          <option value="electronics"> Electronics</option>
          <option value="accessories"> Accessories</option>
          <option value="documents"> Documents</option>
          <option value="other"> Other</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ“¸</span>
          Image (Required)
        </label>
        <div class="file-upload-wrapper">
          <input type="file" name="image" accept="image/*" class="file-input" id="fileInput" required>
          <label for="fileInput" class="file-upload-label">
            <span class="upload-icon">â˜ï¸</span>
            <span class="upload-text">Click to upload or drag and drop</span>
            <span class="upload-subtext">PNG, JPG up to 8MB</span>
          </label>
          <div class="file-preview" id="filePreview"></div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="button button-primary button-large">
        <span>Submit Report</span>
        <span class="button-icon">â†’</span>
      </button>
      <a href="{{ url_for('index') }}" class="button button-outline button-large">Cancel</a>
    </div>
  </form>
</div>

<script>
const fileInput = document.getElementById('fileInput');
const filePreview = document.getElementById('filePreview');

fileInput.addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      filePreview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
      filePreview.style.display = 'block';
    }
    reader.readAsDataURL(file);
  }
});
</script>
{% endblock %}
